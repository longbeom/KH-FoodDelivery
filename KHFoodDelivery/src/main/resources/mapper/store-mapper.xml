<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="store">

	<!-- 입점 신청 승인 -->
	<update id="updateStoreConfirm" parameterType="_int">
		UPDATE STORE SET isConfirm = 1 WHERE businessCode = #{no}
	</update>
	
	<!-- 입점 신청 리스트 -->
	<select id="selectAppStoreList" resultType="store">
		SELECT * FROM STORE ORDER BY appDate DESC
	</select>
	
	<!-- 입점 신청 store 모달 띄우기 -->
	<select id="selectAppStore" resultType="store" parameterType="_int">
		SELECT * FROM STORE WHERE businessCode = #{no}
	</select>
	
	<insert id="addStore" parameterType="map">
		INSERT INTO STORE VALUES(SEQ_BUSINESSCODE.NEXTVAL, #{ownerId}, #{businessName}, #{businessPhone}, #{storeName}, #{storePhone}, #{storeAddress}, #{storeCategory}, #{oriImageName}, #{minPrice}, #{storeProfile}, DEFAULT, SYSDATE, #{businessNum}, 5, 5)
	</insert>
		
	<!-- resultMap : Store -->
	<resultMap type="map" id="store"></resultMap>
	
</mapper>
